<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TID Challenge â€“ Welcome</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="screen active" id="landing-screen">
    <img src="tid-logo.png" alt="TID Challenge Logo" style="max-width: 200px; margin-bottom: 20px;" />
    <h1>Welcome to the TID Challenge</h1>
    <p>Use your metal detector skills to guess what's in the box!</p>

    <input type="text" id="playerName" placeholder="Enter your name" />

    <div id="detectorButtons">
      <p>Select your metal detector:</p>
      <button onclick="selectDetector('equinox_600_800')">Equinox 600/800</button>
      <button onclick="selectDetector('equinox_700_900')">Equinox 700/900</button>
      <button onclick="selectDetector('manticore')">Manticore</button>
      <button onclick="selectDetector('xp_orx')">XP ORX</button>
      <button onclick="selectDetector('xp_deus_ii')">XP Deus II</button>
    </div>

    <input type="hidden" id="detectorModel" />

    <br>
    <button onclick="startWithName()">Start Challenge</button>
  </div>

  <script>
    function selectDetector(model) {
      document.getElementById("detectorModel").value = model;
      document.querySelectorAll("#detectorButtons button").forEach(btn =>
        btn.classList.remove("selected")
      );
      const selectedButton = Array.from(document.querySelectorAll("#detectorButtons button"))
        .find(b => b.getAttribute("onclick")?.includes(model));
      if (selectedButton) selectedButton.classList.add("selected");
    }

    function startWithName() {
      const name = document.getElementById("playerName").value.trim();
      const model = document.getElementById("detectorModel").value;
      if (!name || !model) {
        alert("Please enter your name and select a detector model");
        return;
      }
      localStorage.setItem("playerName", name);
      localStorage.setItem("detectorModel", model);
      window.location.href = "challenge.html";
    }
  </script>
</body>
</html>
